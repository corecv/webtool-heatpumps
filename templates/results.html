{% extends 'index.html' %}

{% block content %}
<div  class = "column" >
    <h1 class = "page_title"> Uw persoonlijke resultaten</h1>
    <h1> Uw persoonlijke resultaten zijn berekend </h1>
    <p>Nu alle stappen voltooid zijn, heeft de tool een analyse van uw huidige woning en energie-installatie kunnen uitvoeren en mogelijke opties voor warmtepompen gegenereerd. Download onderstaand PDF-bestand om deze nieuwe scenario’s met hun bijhorende investeringen en besparingen op vlak van energiegebruik en CO2-uitstoot te bekijken.
        <br><br>Voor meer uitleg over wat de types warmtepompen juist inhouden verwijzen we graag naar onze "Gids naar een duurzamere energietranstie", een brochure die het team dit jaar heeft uitgebracht met als doel een overzicht te bieden van duurzame verwarmingstechnieken. Klik hier om naar de brochure te surfen: <a href = "https://www.thinkcore.be/nl/gids-naar-een-duurzamere-energietransitie" target="_blank">Gids</a>
    
        <br><br>
    <strong>KANTTEKENING:</strong> De berekende getallen met betrekking tot investering, energiebesparing en CO2-besparing zijn louter richtwaarden. De stappen in deze tool zijn te beperkt om een gedetailleerde berekening te kunnen uitvoeren. Indien u een meer accurate studie van uw huidige energie-installatie en mogelijkheden tot een warmtepomp zoekt, neem dan contact op met een deskundige.
    </p>
    {%for dict in table%}
        <h3>{{dict.get('scenario')}}: {{dict.get('voorziening')}} </h3>
        
            <p style="margin-left: 25px;">Besparing CO2: {{dict.get('CO2abs')}} kg = {{dict.get('CO2perc')}} %</p>
            <p style="margin-left: 25px;">Besparing Primaire energie: {{dict.get('prim')}} kWh = {{dict.get('primP')}}  %</p>
            <p style="margin-left: 25px;">Besparing Verbruikskost: {{dict.get('kost')}} €/jaar = {{dict.get('kostP')}} %</p>
            <p style="margin-left: 25px;">Investering: {{dict.get('investering')}} €</p>


        
    {% endfor %}
    <br><br>
    <br><br>
     
    <div class ="file">
        <hr>
        <!-- <h1 class = "page_title"> Download resultaten</h1> -->
        <h3>Download hieronder een pdf met meer gedetailleerde resultaten</h3>
        <h1 class = "page_title" style="font-size: 100%;text-align:center"><a href = "{{url_for('sendFile')}}" target="_blank" class = "page_title">Download</a></h1>
    </div>
    <div>
        <hr>
        <!-- <h1 class = "page_title">Keer terug naar het begin</h1> -->
        <h3>Klik hieronder om snel terug te keren naar de beginpagina</h3>
        <h1 class = "page_title" style="font-size: 100%;text-align:center""><a href = '/'> Keer terug naar het begin</a></h1>
    </div>

</div>


<div  class = "column">
    <h1 class = "page_title">Visualistatie</h1>
    

<head>
    <title>Chart.js Bar Chart - Stacked</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<p>De grafiek toont een procentuele besparingen tussen de/het aangeraden scenario('s) en de huidige situatie.
    Dus een staaf met een hoogte van 60% betekend een besparing van 60% in de overeenkomstige categorie t.o.v. de huidige situatie
</p>

    <canvas id="myChart" style="width:100%;height:100%"></canvas>

</div>
    <script>
    const ctx = document.getElementById('myChart').getContext('2d');
    // const labels = {{labels | tojson}};
    const data = {
            labels: {{labels | tojson}},
            datasets: {{datasets | tojson}}
        };
        
    const config = {
        type: 'bar',
        data: data,
        options: {
            plugins: {
                legend: {
                labels: {
                    // This more specific font property overrides the global property
                    font: {
                        size: 25
                    }}},
                
             
                title: {
                        display: true,
                        text: 'Vergelijking met de huidige situatie',                            
                        font: {
                            size: 20
                                            }
                            },
                        },
                responsive: true,
                interaction: {
                intersect: false,
                        },
                scales: {
                   
                    y: {display:true,
                    stacked: true,
                        title:
                            {
                            display:true,
                            text:"Besparing t.o.v. huidige situatie[%]",
                            font: {
                                    size: 20
                                    }
                
                            },
               
                }
                    },

                }
            };

    new Chart(ctx, config);

    </script>
    


{% endblock %}